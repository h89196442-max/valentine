<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>For You ‚ù§Ô∏è</title>

  <!-- Confetti -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>

  <style>
    :root{
      --bg1:#ffb6d5;
      --bg2:#ffe7f2;
      --card: rgba(255,255,255,.72);
      --text:#111827;
      --pink:#ff2f74;
      --pink2:#ff4f90;
      --shadow: 0 18px 60px rgba(0,0,0,.16);
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }

    body{
  margin:0;
  min-height:100svh;
  display:grid;
  place-items:center;
  overflow:hidden; /* locked initially */
  font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  background: radial-gradient(circle at 15% 10%, var(--bg2), var(--bg1));
  color: var(--text);
}

/* üëá unlock scrolling after YES */
body.unlocked{
  overflow-y: auto;
}

    /* animated gradient glow */
    .glow{
      position:fixed;
      inset:-30%;
      background:
        radial-gradient(circle at 20% 20%, rgba(255,255,255,.65), transparent 45%),
        radial-gradient(circle at 80% 30%, rgba(255,45,116,.25), transparent 50%),
        radial-gradient(circle at 40% 80%, rgba(255,255,255,.5), transparent 55%);
      filter: blur(30px);
      animation: drift 12s ease-in-out infinite alternate;
      z-index:0;
    }
    @keyframes drift{
      from{ transform: translate(-2%, -2%) scale(1); }
      to{ transform: translate(2%, 2%) scale(1.05); }
    }

    /* floating hearts */
    .hearts{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:1;
      opacity:.8;
    }
    .heart{
      position:absolute;
      width:18px;height:18px;
      transform: rotate(45deg);
      background: rgba(255,47,116,.25);
      border-radius: 4px;
      animation: floatUp linear infinite;
      filter: drop-shadow(0 10px 18px rgba(0,0,0,.1));
    }
    .heart:before,.heart:after{
      content:"";
      position:absolute;
      width:18px;height:18px;
      background: inherit;
      border-radius:50%;
    }
    .heart:before{ left:-9px; top:0; }
    .heart:after{ top:-9px; left:0; }
    @keyframes floatUp{
      from{ transform: translateY(110vh) rotate(45deg); opacity:0; }
      15%{ opacity:1; }
      to{ transform: translateY(-20vh) rotate(45deg); opacity:0; }
    }

    /* confetti canvas */
    #confettiCanvas{
      position:fixed;
      inset:0;
      width:100vw;
      height:100vh;
      pointer-events:none;
      z-index:9999;
    }

    .card{
      position:relative;
      z-index:2;
      width:min(820px, 94vw);
      padding: 28px 22px 22px;
      background: var(--card);
      backdrop-filter: blur(14px);
      border-radius: 26px;
      box-shadow: var(--shadow);
      border: 1px solid rgba(255,255,255,.55);
      text-align:center;
    }

    .top-row{
      display:flex;
      gap:14px;
      align-items:center;
      justify-content:center;
      flex-wrap:wrap;
      margin-bottom:10px;
    }

    .badge{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:10px 14px;
      border-radius:999px;
      background: rgba(255,255,255,.55);
      box-shadow: 0 8px 18px rgba(0,0,0,.08);
      font-weight:800;
      letter-spacing:.2px;
    }
    .dot{
      width:10px;height:10px;border-radius:50%;
      background: var(--pink);
      box-shadow: 0 0 0 6px rgba(255,47,116,.15);
      animation: pulse 1.5s ease-in-out infinite;
    }
    @keyframes pulse{
      0%,100%{ transform:scale(1); }
      50%{ transform:scale(1.25); }
    }

    h1{
      font-size: clamp(24px, 3.6vw, 44px);
      margin: 10px 0 6px;
      line-height:1.1;
    }

    .sub{
      margin: 0 auto 18px;
      max-width: 60ch;
      opacity: .85;
      font-size: clamp(14px, 1.7vw, 18px);
    }

    .button-zone{
      position:relative;
      width:min(560px, 94%);
      height: 170px;
      margin: 10px auto 0;
      touch-action:none;
      border-radius: 20px;
      background: rgba(255,255,255,.35);
      border: 1px dashed rgba(0,0,0,.08);
      overflow:hidden;
    }

    button{
      position:absolute;
      top:50%;
      transform: translateY(-50%);
      padding: 16px 26px;
      font-size: 18px;
      font-weight: 900;
      border-radius: 999px;
      border:none;
      cursor:pointer;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
      box-shadow: 0 14px 28px rgba(0,0,0,.16);
      transition: transform .12s ease, background .12s ease, filter .12s ease;
    }

    #yesBtn{
      left: 16%;
      background: linear-gradient(135deg, var(--pink), var(--pink2));
      color:white;
    }
    #yesBtn:hover{ filter: brightness(1.03); }
    #noBtn{
      left: 62%;
      background: rgba(229,231,235,.95);
      color:#111827;
    }

    .hint{
      margin-top: 10px;
      font-size: 13px;
      opacity: .75;
      min-height: 18px;
    }

    /* Surprise section */
    .result{
      display:none;
      margin-top:18px;
      animation: pop .35s ease;
    }
    @keyframes pop{
      from{ transform: scale(.97); opacity:0; }
      to{ transform: scale(1); opacity:1; }
    }

    .result h2{
      font-size: clamp(26px, 3.6vw, 44px);
      margin: 4px 0 10px;
    }

    .type{
      max-width: 68ch;
      margin: 0 auto 16px;
      background: rgba(255,255,255,.55);
      border: 1px solid rgba(0,0,0,.06);
      padding: 14px 14px;
      border-radius: 18px;
      box-shadow: 0 10px 20px rgba(0,0,0,.08);
      text-align:left;
      font-size: clamp(14px, 1.7vw, 18px);
      line-height:1.5;
    }
    .cursor{
      display:inline-block;
      width: 10px;
      height: 1.1em;
      transform: translateY(2px);
      background: rgba(0,0,0,.35);
      margin-left: 6px;
      animation: blink 0.9s infinite;
    }
    @keyframes blink{
      0%,49%{ opacity:1; }
      50%,100%{ opacity:0; }
    }

    .gallery{
      display:grid;
      grid-template-columns: repeat(2, minmax(0,1fr));
      gap: 12px;
      margin: 12px auto 8px;
      max-width: 760px;
    }
    .pic{
      width:100%;
      aspect-ratio: 4 / 5;
      object-fit: cover;
      border-radius: 18px;
      box-shadow: 0 18px 40px rgba(0,0,0,.18);
      border: 1px solid rgba(255,255,255,.55);
      transform: translateY(10px);
      opacity:0;
      transition: transform .6s ease, opacity .6s ease;
    }
    .pic.show{
      transform: translateY(0);
      opacity:1;
    }

    .actions{
      display:flex;
      gap:10px;
      justify-content:center;
      flex-wrap:wrap;
      margin-top: 12px;
    }
    .mini{
      padding: 12px 16px;
      border-radius: 999px;
      border: 1px solid rgba(0,0,0,.06);
      background: rgba(255,255,255,.65);
      font-weight: 800;
      cursor:pointer;
      box-shadow: 0 10px 18px rgba(0,0,0,.10);
      transition: transform .12s ease;
    }
    .mini:active{ transform: translateY(1px) scale(.99); }

    .footer-note{
      margin-top: 10px;
      font-size: 12px;
      opacity: .65;
    }

    /* Mobile gallery stack */
    @media (max-width: 640px){
      .gallery{ grid-template-columns: 1fr; }
      .button-zone{ height: 190px; }
      #yesBtn{ left: 12%; }
      #noBtn{ left: 58%; }
    }
  </style>
</head>

<body>
  <div class="glow"></div>
  <div class="hearts" id="hearts"></div>
  <canvas id="confettiCanvas"></canvas>

  <main class="card" role="main">
    <div class="top-row">
      <div class="badge"><span class="dot"></span> Special Delivery for My Baby üíå</div>
      <div class="badge">Tap ‚ÄúYes‚Äù to unlock your surprise ‚ú®</div>
    </div>

    <h1>Hewluu my pucchu, my gucchu, my baby‚Ä¶ will you be my Valentine? ü•∫‚ù§Ô∏è</h1>
    <p class="sub">
      I made this tiny universe just for you. It has one correct answer üòà
    </p>

    <section class="button-zone" id="zone" aria-label="Valentine buttons">
      <button id="yesBtn">Yes ‚úÖ</button>
      <button id="noBtn">No üôÖ‚Äç‚ôÄÔ∏è</button>
    </section>

    <div class="hint" id="hint">Tip: ‚ÄúNo‚Äù is very shy‚Ä¶ try to catch it üòè</div>

    <section class="result" id="result" aria-live="polite">
      <h2>YAYYYYY!!!  I knew u would say yes hehe i love u more than any being in this universe even my own lifeeeü•∫‚ù§Ô∏èü•∫‚ù§Ô∏èü•∫‚ù§Ô∏èü•∫‚ù§Ô∏è üéâüíñ</h2>

      <div class="type">
        <div id="typeText"></div><span class="cursor" aria-hidden="true"></span>
      </div>

      <div class="gallery" aria-label="Photo gallery">
        <!-- Use RELATIVE PATHS so it works on GitHub Pages -->
        <img class="pic" id="p1" src="photo_2026-02-02_14-47-50.jpg" alt="Our photo 1">
        <img class="pic" id="p2" src="photo_2026-02-02_14-49-01.jpg" alt="Our photo 2">
      </div>

      <div class="actions">
        <button class="mini" id="moreConfetti">More confetti üéä</button>
        <button class="mini" id="playMusic">Play music üé∂</button>
        <button class="mini" id="replay">Replay surprise üîÅ</button>
      </div>

      <div class="footer-note">P.S. You‚Äôre my favorite person in every universe ‚ôæÔ∏è</div>
    </section>
  </main>

  <script>
    /* ---------------- Hearts Background ---------------- */
    const heartsWrap = document.getElementById("hearts");
    function spawnHearts(){
      heartsWrap.innerHTML = "";
      const count = Math.min(26, Math.max(14, Math.floor(window.innerWidth / 50)));
      for(let i=0;i<count;i++){
        const h = document.createElement("div");
        h.className = "heart";
        h.style.left = Math.random()*100 + "vw";
        h.style.animationDuration = (7 + Math.random()*7) + "s";
        h.style.animationDelay = (Math.random()*6) + "s";
        h.style.transform = "rotate(45deg) scale(" + (0.7 + Math.random()*1.2) + ")";
        h.style.background = `rgba(255,47,116,${0.14 + Math.random()*0.22})`;
        heartsWrap.appendChild(h);
      }
    }
    spawnHearts();
    window.addEventListener("resize", spawnHearts);

    /* ---------------- Confetti Setup ---------------- */
    const confettiCanvas = document.getElementById("confettiCanvas");
    function resizeConfettiCanvas(){
      const dpr = Math.max(1, window.devicePixelRatio || 1);
      confettiCanvas.width = Math.floor(window.innerWidth * dpr);
      confettiCanvas.height = Math.floor(window.innerHeight * dpr);
      confettiCanvas.style.width = "100vw";
      confettiCanvas.style.height = "100vh";
    }
    resizeConfettiCanvas();
    window.addEventListener("resize", resizeConfettiCanvas);
    window.addEventListener("orientationchange", () => setTimeout(resizeConfettiCanvas, 150));

    const confettiInstance = confetti.create(confettiCanvas, { resize:false, useWorker:true });

    function burst(){
      confettiInstance({
        particleCount: 220,
        spread: 140,
        startVelocity: 55,
        ticks: 220,
        origin: { x: 0.5, y: 0.6 }
      });
    }

    function fullScreenConfetti(){
      const end = Date.now() + 1800;
      (function frame(){
        confettiInstance({
          particleCount: 14,
          spread: 100,
          startVelocity: 45,
          ticks: 180,
          origin: { x: Math.random(), y: Math.random()*0.25 }
        });
        if(Date.now() < end) requestAnimationFrame(frame);
      })();
      setTimeout(burst, 260);
    }

    /* ---------------- Buttons Logic ---------------- */
    const zone = document.getElementById("zone");
    const yesBtn = document.getElementById("yesBtn");
    const noBtn = document.getElementById("noBtn");
    const result = document.getElementById("result");
    const hint = document.getElementById("hint");

    const p1 = document.getElementById("p1");
    const p2 = document.getElementById("p2");

    let yesScale = 1;
    function growYes(){
      yesScale = Math.min(2.35, yesScale + 0.12);
      yesBtn.style.transform = `translateY(-50%) scale(${yesScale})`;
    }

    function clamp(n,min,max){ return Math.max(min, Math.min(max,n)); }

    const teaseLines = [
      "No says: I‚Äôm shy üôà",
      "No says: Try harder üòº",
      "No says: You can‚Äôt catch me üò§",
      "No says: Ok ok‚Ä¶ press YES üòà",
      "No says: Babe, just click YES already üò≠"
    ];
    let teaseIndex = 0;

    function moveNo(px,py){
      const z = zone.getBoundingClientRect();
      const b = noBtn.getBoundingClientRect();

      let dx = (b.left + b.width/2) - px;
      let dy = (b.top + b.height/2) - py;
      let mag = Math.hypot(dx,dy) || 1;
      dx /= mag; dy /= mag;

      // a bit random for fun
      const jump = 150 + Math.random()*90;

      let newLeft = (b.left - z.left) + dx * jump;
      let newTop  = (b.top  - z.top ) + dy * jump;

      newLeft = clamp(newLeft, 0, z.width - b.width);
      newTop  = clamp(newTop,  0, z.height - b.height);

      noBtn.style.left = newLeft + "px";
      noBtn.style.top = newTop + "px";
      noBtn.style.transform = "none";

      growYes();

      hint.textContent = teaseLines[teaseIndex % teaseLines.length];
      teaseIndex++;
    }

    zone.addEventListener("pointermove", (e)=>{
      const b = noBtn.getBoundingClientRect();
      const d = Math.hypot(
        (b.left + b.width/2) - e.clientX,
        (b.top + b.height/2) - e.clientY
      );
      if(d < 150) moveNo(e.clientX, e.clientY);
    });

    noBtn.addEventListener("click", (e)=>{
      e.preventDefault();
      growYes();
      hint.textContent = "Nice try üòè (Press YES baby ‚ù§Ô∏è)";
    });

    /* ---------------- Typewriter + Surprise ---------------- */
    const typeText = document.getElementById("typeText");
    const loveLetter =
`My love,
You make my heart feel safe, silly, and full ‚Äî all at once.
I don‚Äôt need a perfect day‚Ä¶ I just need YOU.
Thank you for being my baby, my peace, my favorite.
Happy Valentine‚Äôs, my pucchu. ‚ù§Ô∏è`;

    let typingTimer = null;

    function typewriter(text){
      clearInterval(typingTimer);
      typeText.textContent = "";
      let i = 0;
      typingTimer = setInterval(()=>{
        typeText.textContent += text[i] || "";
        i++;
        if(i > text.length) clearInterval(typingTimer);
      }, 22);
    }

    /* ---------------- Tiny Music (no external files) ---------------- */
    let audioCtx = null;
    function playCuteTune(){
      try{
        audioCtx = audioCtx || new (window.AudioContext || window.webkitAudioContext)();
        const now = audioCtx.currentTime;

        const notes = [523.25, 659.25, 783.99, 659.25, 880.00, 783.99]; // C5 E5 G5 E5 A5 G5
        notes.forEach((freq, idx)=>{
          const o = audioCtx.createOscillator();
          const g = audioCtx.createGain();
          o.type = "sine";
          o.frequency.value = freq;
          g.gain.setValueAtTime(0.0001, now + idx*0.16);
          g.gain.exponentialRampToValueAtTime(0.18, now + idx*0.16 + 0.02);
          g.gain.exponentialRampToValueAtTime(0.0001, now + idx*0.16 + 0.14);
          o.connect(g).connect(audioCtx.destination);
          o.start(now + idx*0.16);
          o.stop(now + idx*0.16 + 0.16);
        });
      }catch(e){
        // if blocked, ignore silently
      }
    }

    function revealPhotos(){
      // slight stagger
      setTimeout(()=> p1.classList.add("show"), 250);
      setTimeout(()=> p2.classList.add("show"), 520);
    }

    yesBtn.addEventListener("click", ()=>{
      zone.style.display = "none";
      hint.style.display = "none";
      result.style.display = "block";

      resizeConfettiCanvas();
      fullScreenConfetti();
      playCuteTune();

      typewriter(loveLetter);
      revealPhotos();
    });

    /* ---------------- Extra Buttons ---------------- */
    document.getElementById("moreConfetti").addEventListener("click", ()=>{
      resizeConfettiCanvas();
      burst();
    });

    document.getElementById("playMusic").addEventListener("click", ()=>{
      playCuteTune();
    });

    document.getElementById("replay").addEventListener("click", ()=>{
      // reset state
      result.style.display = "none";
      zone.style.display = "block";
      hint.style.display = "block";
      hint.textContent = "Tip: ‚ÄúNo‚Äù is very shy‚Ä¶ try to catch it üòè";

      yesScale = 1;
      yesBtn.style.transform = "translateY(-50%) scale(1)";

      // reset No position
      noBtn.style.left = "62%";
      noBtn.style.top = "50%";
      noBtn.style.transform = "translateY(-50%)";

      // reset photos
      p1.classList.remove("show");
      p2.classList.remove("show");
      typeText.textContent = "";

      resizeConfettiCanvas();
      confettiInstance({ particleCount: 40, spread: 70, startVelocity: 35, ticks: 120, origin:{x:.5,y:.2} });
    });
  </script>
</body>
</html>
